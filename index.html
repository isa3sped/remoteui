<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Minecraft RCON Panel</title>
  <style>
    body {
      background-color: #111;
      color: #f1f1f1;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1 {
      color: #00ffcc;
      text-align: center;
    }
    .tab-buttons button {
      margin: 5px;
      padding: 10px 15px;
      background: #222;
      border: 1px solid #00ffcc;
      color: white;
      cursor: pointer;
    }
    .tab-buttons button:hover {
      background: #00ffcc;
      color: black;
    }
    .tab {
      display: none;
    }
    .tab.active {
      display: block;
    }
    .command-panel button {
      margin: 5px;
      padding: 8px 12px;
      background: #1e1e1e;
      border: 1px solid #00ffcc;
      color: white;
      cursor: pointer;
    }
    .command-panel button:hover {
      background: #00ffcc;
      color: black;
    }
    .form {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    input {
      padding: 0.5rem;
      margin: 0.2rem;
      background: #1e1e1e;
      border: 1px solid #333;
      color: white;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>‚ö° Minecraft RCON Panel</h1>

  <div class="form">
    <input type="text" id="player" placeholder="Player name" />
    <input type="text" id="arg1" placeholder="Arg1" />
    <input type="text" id="arg2" placeholder="Arg2" />
    <input type="text" id="arg3" placeholder="Arg3" />
  </div>

  <div class="tab-buttons">
    <button onclick="showTab('flame')">üî• Flame</button>
    <button onclick="showTab('admin')">üõ† Admin</button>
    <button onclick="showTab('pvp')">‚öîÔ∏è PvP</button>
    <button onclick="showTab('events')">üí• Events</button>
    <button onclick="showTab('attribute')">üìä Attribute</button>
  </div>

  <!-- FLAME TAB -->
  <div class="tab" id="flame">
    <div class="command-panel">
      <button onclick="sendCmd('flame', ['give', 'fire'])">Give Flame (Fire)</button>
      <button onclick="sendCmd('flame', ['set', 'lava'])">Set Flame (Lava)</button>
      <button onclick="sendCmd('flame', ['reset'])">Reset Flame</button>
    </div>
  </div>

  <!-- ADMIN TAB -->
  <div class="tab" id="admin">
    <div class="command-panel">
      <button onclick="sendCmd('setop', [])">Set OP</button>
      <button onclick="sendCmd('reload', [])">Reload</button>
      <button onclick="sendCmd('gamemode', ['creative'])">Gamemode Creative</button>
      <button onclick="sendCmd('say', ['Hello world'])">Say Hello</button>
    </div>
  </div>

  <!-- PVP TAB -->
  <div class="tab" id="pvp">
    <div class="command-panel">
      <button onclick="sendCmd('effect', ['speed', '100', '1'])">Effect: Speed</button>
      <button onclick="sendCmd('effect', ['clear'])">Clear Effects</button>
      <button onclick="sendCmd('give', ['diamond_sword'])">Give Sword</button>
      <button onclick="sendCmd('tp', ['~', '~', '~'])">TP Self</button>
    </div>
  </div>

  <!-- EVENTS TAB -->
  <div class="tab" id="events">
    <div class="command-panel">
      <button onclick="sendCmd('event', ['warden'])">Spawn Warden</button>
      <button onclick="sendCmd('event', ['raid'])">Start Raid</button>
      <button onclick="sendCmd('event', ['boss'])">Spawn Boss</button>
      <button onclick="sendCmd('say', ['Event starting!'])">Announce Event</button>
    </div>
  </div>

  <!-- ATTRIBUTE TAB -->
  <div class="tab" id="attribute">
    <div class="command-panel">
      <button onclick="sendCmd('attribute', ['generic.max_health', 'base', '40'])">Max Health 40</button>
      <button onclick="sendCmd('attribute', ['generic.movement_speed', 'base', '0.3'])">Speed 0.3</button>
      <button onclick="sendCmd('attribute', ['generic.attack_damage', 'base', '1'])">Reset Strength</button>
    </div>
  </div>

  <script>
    const API_URL = "https://90116464-7343-4fb3-ad14-5b7f8def911b-00-1p92o521rbwip.kirk.replit.dev/api/command";

    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }

    async function sendCmd(command, defaultArgs = []) {
      const player = document.getElementById("player").value;
      const inputs = [
        document.getElementById("arg1").value,
        document.getElementById("arg2").value,
        document.getElementById("arg3").value
      ].filter(Boolean);

      const args = inputs.length > 0 ? inputs : defaultArgs;

      if (!player) return alert("Please enter a player name.");

      const payload = {
        player: player,
        command: command,
        args: args
      };

      try {
        const res = await fetch(API_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        if (!res.ok) throw new Error("Failed with status " + res.status);
        const json = await res.json();
        console.log("‚úÖ Sent:", json);
      } catch (err) {
        alert("‚ùå Failed: " + err.message);
      }
    }

    // Show first tab on load
    showTab('flame');
  </script>
</body>
</html>
